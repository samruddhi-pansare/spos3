1️⃣ Lex File: expr.l
%{
#include "y.tab.h"
%}

%%
[0-9]+          { yylval = atoi(yytext); return NUM; }
[+\-*/()]       { return yytext[0]; }
[ \t\n]+        ;  // ignore spaces
.               { return yytext[0]; }
%%
int yywrap() { return 1; }

2️⃣ YACC/Bison File: expr.y
%{
#include <iostream>
using namespace std;

int yylex();
void yyerror(const char *s) { cout << "Error: " << s << endl; }

%}

%token NUM
%left '+' '-'
%left '*' '/'
%right UMINUS

%%

expr:
      expr '+' expr    { $$ = $1 + $3; }
    | expr '-' expr    { $$ = $1 - $3; }
    | expr '*' expr    { $$ = $1 * $3; }
    | expr '/' expr    { $$ = $1 / $3; }
    | '(' expr ')'     { $$ = $2; }
    | '-' expr %prec UMINUS { $$ = -$2; }
    | NUM              { $$ = $1; }
    ;

%%

int main() {
    cout << "Enter an arithmetic expression: ";
    if (yyparse() == 0)
        cout << "Expression is valid." << endl;
    return 0;
}

3️⃣ How to Compile and Run (Ubuntu/Linux)
flex expr.l          # generates lex.yy.c
bison -d expr.y      # generates expr.tab.c and expr.tab.h
g++ lex.yy.c expr.tab.c -o expr -lfl   # compile with Flex library
./expr               # run the program
